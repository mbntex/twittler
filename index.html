<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <style>
    #holder {
      background-color: powderblue;
      border-style: solid;
      border-width: 5px;
    }
    #header {
      background-color: #17AEEB;
      text-align: center;
      border-style: solid;
      border-width: 5px 5px 15px 5px;
    }
    .tweet {
      background-color: powderblue;
    }
    .userButton {
      
    }
    #getAllInfo {
      font-size: 20px;
      padding: 12px 28px;
      border-radius: 10px;
      background-color: #E87C65;
    }
    #onlyNewInfo {
      font-size: 20px;
      padding: 12px 28px;
      border-radius: 10px;
      background-color: #E87C65;
    }
    #finito {
      font-size: 20px;
      color: white;
      padding: 12px 28px;
      border-radius: 10px;
      background-color: #800000;
    }
    </style>
  </head>
  <body>
    <div>
      <div id = "header">
        <h2>Current Tweets</h2>
      </div>
      <div id = "holder">
      </div>
    </div>
    <br/>
      <button id = "onlyNewInfo">Only Most Recent Tweets - Too Much, To Much!</button>
    <br/>
      <button id = "getAllInfo">Update My Tweets - Give Me All Of Them!</button>
      <br/>
      <button id = "finito">I Am Finished Tweeting. Seriously.</button>
    <script>

      $(document).ready(function(){
        var $body = $('body');
        // $body.html('');
        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var tweetTime = streams.home[index].created_at;
          var $tweet = $('<div class = '+ tweet.user +'></div>');
          var $tweetTime = $('<div class = '+ tweet.user +'></div>');
          var tweetUser = streams.home[index].user;
          

          // var $tweetButton = $('<button id =' + tweet.user + index + '></button> ');
          var $tweetButton = $('<button class =' + tweet.user + '></button>');
          // $('#'+ tweet.user ).on("click", function() {
          //   console.log('clicked');
          // });

          // var $tweetButton = $('<button class = useButton></button> ');

          // $('.useButton').on("click", function() {
          //   console.log($(this).tweetUser);
          // });
          var totalID = tweet.user + index;
          console.log(totalID);

          // $('#'+totalID).on("click", function() {
          //   console.log($(this).text());
          //   console.log('TEST');
          // });

          $('.shawndrost').on("click", function() {
            $('.mracus').remove();
            $('.sharksforcheap').remove();
            $('.douglascalhoun').remove();
          })

          $('.mracus').on("click", function() {
            $('.shawndrost').remove();
            $('.sharksforcheap').remove();
            $('.douglascalhoun').remove();
          })

          $('.sharksforcheap').on("click", function() {
            $('.mracus').remove();
            $('.shawndrost').remove();
            $('.douglascalhoun').remove();
          })

          $('.douglascalhoun').on("click", function() {
            $('.mracus').remove();
            $('.shawndrost').remove();
            $('.sharksforcheap').remove();
          })


          var $rule = $('<hr class='+tweet.user+'>');

          $tweet.text('@' + tweet.user + ': ' + tweet.message);
          $tweetButton.text('See All Messages From ' + tweet.user);
          $tweetTime.text('Time : '+ tweetTime);
          $tweet.appendTo("#holder");
          $tweet.appendTo("#holder");
          $tweetTime.appendTo("#holder");
          // $tweetButton.appendTo($tweet);
          $tweetButton.appendTo("#holder");
          $rule.appendTo("#holder");
          index -= 1; 

        }
      });



      $("#getAllInfo").click(function() {
        var $body = $('body');
        // $body.html('');
        $("#holder").empty();
        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var tweetTime = streams.home[index].created_at;
          var $tweet = $('<div class = '+ tweet.user +'></div>');
          var $tweetTime = $('<div class = '+ tweet.user +'></div>');
          var $tweetButton = $('<button class =' + tweet.user + '></button>');
          var $rule = $('<hr class='+tweet.user+'>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message);
          $tweetButton.text('See All Messages From ' + tweet.user);
          $tweetTime.text('Time : '+ tweetTime);
          $tweet.appendTo("#holder");
          $tweetTime.appendTo("#holder");
          $tweetButton.appendTo("#holder");
          $rule.appendTo("#holder");
          $('.shawndrost').on("click", function() {
            $('.mracus').remove();
            $('.sharksforcheap').remove();
            $('.douglascalhoun').remove();
          })

          $('.mracus').on("click", function() {
            $('.shawndrost').remove();
            $('.sharksforcheap').remove();
            $('.douglascalhoun').remove();
          })

          $('.sharksforcheap').on("click", function() {
            $('.mracus').remove();
            $('.shawndrost').remove();
            $('.douglascalhoun').remove();
          })

          $('.douglascalhoun').on("click", function() {
            $('.mracus').remove();
            $('.shawndrost').remove();
            $('.sharksforcheap').remove();
          })
          index -= 1;
        }
      })


      $("#onlyNewInfo").click(function() {
        
        var $body = $('body');
        // $body.html('');
        $("#holder").empty();
        var index = streams.home.length - 1;
        while(index >= streams.home.length - 11){
          var tweet = streams.home[index];
          var tweetTime = streams.home[index].created_at;
          var $tweet = $('<div class = '+ tweet.user +'></div>');
          var $tweetTime = $('<div class = '+ tweet.user +'></div>');
          var $tweetButton = $('<button class =' + tweet.user + '></button>');

          var $rule = $('<hr class='+tweet.user+'>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message);
          $tweetButton.text('See All Messages From ' + tweet.user);
          $tweetTime.text('Time : '+ tweetTime);
          $tweet.appendTo("#holder");
          $tweetTime.appendTo("#holder");
          $tweetButton.appendTo("#holder");
          $rule.appendTo("#holder");
          $('.shawndrost').on("click", function() {
            $('.mracus').remove();
            $('.sharksforcheap').remove();
            $('.douglascalhoun').remove();
          })

          $('.mracus').on("click", function() {
            $('.shawndrost').remove();
            $('.sharksforcheap').remove();
            $('.douglascalhoun').remove();
          })

          $('.sharksforcheap').on("click", function() {
            $('.mracus').remove();
            $('.shawndrost').remove();
            $('.douglascalhoun').remove();
          })

          $('.douglascalhoun').on("click", function() {
            $('.mracus').remove();
            $('.shawndrost').remove();
            $('.sharksforcheap').remove();
          })
          index -= 1;
        }
      })



      $("#finito").click(function() {
        
        var $body = $('body');
        $body.html('<img src = http://s.hswstatic.com/gif/science-vs-fiction-world-war-z-nuclear-bomb-130620-670x440.jpg>');
        
            $('.shawndrost').remove();
            $('.mracus').remove();
            $('.sharksforcheap').remove();
            $('.douglascalhoun').remove();
         

      })

      console.log('USERS = ', users);
      console.log('STREAMS = ', streams);
    </script>
  </body>
</html>
